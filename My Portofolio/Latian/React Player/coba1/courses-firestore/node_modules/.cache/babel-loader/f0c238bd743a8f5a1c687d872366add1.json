{"ast":null,"code":"var _jsxFileName = \"D:\\\\Tonz\\\\Documents\\\\Codingan\\\\My Portofolio\\\\Latian\\\\Query Firebase\\\\coba1\\\\courses-firestore\\\\src\\\\pages\\\\Home.js\",\n    _s = $RefreshSig$();\n\nimport React, { useEffect, useState } from \"react\";\nimport { db, auth } from \"../firebase\";\nimport { collection, query, where, onSnapshot } from \"firebase/firestore\";\nimport User from \"../components/User\";\nimport { Link } from \"react-router-dom\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst Home = () => {\n  _s();\n\n  const [users, setUsers] = useState([]);\n  const user1 = auth.currentUser.uid;\n  useEffect(() => {\n    const usersRef = collection(db, \"users\"); // create query object\n\n    const q = query(usersRef, where(\"uid\", \"not-in\", [user1])); // execute query\n\n    const unsub = onSnapshot(q, querySnapshot => {\n      let users = [];\n      querySnapshot.forEach(doc => {\n        users.push(doc.data());\n      });\n      setUsers(users);\n    });\n    return () => unsub();\n  }, []);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"container\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"home_container\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"users_container\",\n        children: users.map(user => (console.log(user), /*#__PURE__*/_jsxDEV(Link, {\n          to: `/chat/${user.uid}`,\n          className: \"link\",\n          children: /*#__PURE__*/_jsxDEV(User, {\n            user: user,\n            user1: user1\n          }, user.uid, false, {\n            fileName: _jsxFileName,\n            lineNumber: 42,\n            columnNumber: 11\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 41,\n          columnNumber: 11\n        }, this)))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 38,\n        columnNumber: 7\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 37,\n      columnNumber: 5\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 36,\n    columnNumber: 5\n  }, this);\n};\n\n_s(Home, \"JadZszbqna06PpJs9hMo7Hl/LOY=\");\n\n_c = Home;\nexport default Home;\n\nvar _c;\n\n$RefreshReg$(_c, \"Home\");","map":{"version":3,"names":["React","useEffect","useState","db","auth","collection","query","where","onSnapshot","User","Link","Home","users","setUsers","user1","currentUser","uid","usersRef","q","unsub","querySnapshot","forEach","doc","push","data","map","user","console","log"],"sources":["D:/Tonz/Documents/Codingan/My Portofolio/Latian/Query Firebase/coba1/courses-firestore/src/pages/Home.js"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\nimport { db, auth } from \"../firebase\";\nimport {\n  collection,\n  query,\n  where,\n  onSnapshot,\n} from \"firebase/firestore\";\nimport User from \"../components/User\";\nimport { Link } from \"react-router-dom\";\n\nconst Home = () => {\n  const [users, setUsers] = useState([]);\n\n\n  const user1 = auth.currentUser.uid;\n\n  useEffect(() => {\n    const usersRef = collection(db, \"users\");\n    // create query object\n    const q = query(usersRef, where(\"uid\", \"not-in\", [user1]));\n    // execute query\n    const unsub = onSnapshot(q, (querySnapshot) => {\n      let users = [];\n      querySnapshot.forEach((doc) => {\n        users.push(doc.data());\n      });\n      setUsers(users);\n    });\n    return () => unsub();\n  }, []);\n\n\n\n  return (\n    <div className=\"container\">\n    <div className=\"home_container\">\n      <div className=\"users_container\">\n        {users.map((user) => (\n          console.log(user),\n          <Link to={`/chat/${user.uid}`} className=\"link\">\n          <User\n            key={user.uid}\n            user={user}\n            user1={user1}\n          />\n          </Link>\n        ))}\n      </div>\n    </div>\n    </div>\n  );\n};\n\nexport default Home;\n"],"mappings":";;;AAAA,OAAOA,KAAP,IAAgBC,SAAhB,EAA2BC,QAA3B,QAA2C,OAA3C;AACA,SAASC,EAAT,EAAaC,IAAb,QAAyB,aAAzB;AACA,SACEC,UADF,EAEEC,KAFF,EAGEC,KAHF,EAIEC,UAJF,QAKO,oBALP;AAMA,OAAOC,IAAP,MAAiB,oBAAjB;AACA,SAASC,IAAT,QAAqB,kBAArB;;;AAEA,MAAMC,IAAI,GAAG,MAAM;EAAA;;EACjB,MAAM,CAACC,KAAD,EAAQC,QAAR,IAAoBX,QAAQ,CAAC,EAAD,CAAlC;EAGA,MAAMY,KAAK,GAAGV,IAAI,CAACW,WAAL,CAAiBC,GAA/B;EAEAf,SAAS,CAAC,MAAM;IACd,MAAMgB,QAAQ,GAAGZ,UAAU,CAACF,EAAD,EAAK,OAAL,CAA3B,CADc,CAEd;;IACA,MAAMe,CAAC,GAAGZ,KAAK,CAACW,QAAD,EAAWV,KAAK,CAAC,KAAD,EAAQ,QAAR,EAAkB,CAACO,KAAD,CAAlB,CAAhB,CAAf,CAHc,CAId;;IACA,MAAMK,KAAK,GAAGX,UAAU,CAACU,CAAD,EAAKE,aAAD,IAAmB;MAC7C,IAAIR,KAAK,GAAG,EAAZ;MACAQ,aAAa,CAACC,OAAd,CAAuBC,GAAD,IAAS;QAC7BV,KAAK,CAACW,IAAN,CAAWD,GAAG,CAACE,IAAJ,EAAX;MACD,CAFD;MAGAX,QAAQ,CAACD,KAAD,CAAR;IACD,CANuB,CAAxB;IAOA,OAAO,MAAMO,KAAK,EAAlB;EACD,CAbQ,EAaN,EAbM,CAAT;EAiBA,oBACE;IAAK,SAAS,EAAC,WAAf;IAAA,uBACA;MAAK,SAAS,EAAC,gBAAf;MAAA,uBACE;QAAK,SAAS,EAAC,iBAAf;QAAA,UACGP,KAAK,CAACa,GAAN,CAAWC,IAAD,KACTC,OAAO,CAACC,GAAR,CAAYF,IAAZ,gBACA,QAAC,IAAD;UAAM,EAAE,EAAG,SAAQA,IAAI,CAACV,GAAI,EAA5B;UAA+B,SAAS,EAAC,MAAzC;UAAA,uBACA,QAAC,IAAD;YAEE,IAAI,EAAEU,IAFR;YAGE,KAAK,EAAEZ;UAHT,GACOY,IAAI,CAACV,GADZ;YAAA;YAAA;YAAA;UAAA;QADA;UAAA;UAAA;UAAA;QAAA,QAFS,CAAV;MADH;QAAA;QAAA;QAAA;MAAA;IADF;MAAA;MAAA;MAAA;IAAA;EADA;IAAA;IAAA;IAAA;EAAA,QADF;AAkBD,CAzCD;;GAAML,I;;KAAAA,I;AA2CN,eAAeA,IAAf"},"metadata":{},"sourceType":"module"}