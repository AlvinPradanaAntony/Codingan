{"ast":null,"code":"var _jsxFileName = \"D:\\\\Tonz\\\\Documents\\\\Codingan\\\\My Portofolio\\\\Latian\\\\Query Firebase\\\\coba1\\\\courses-firestore\\\\src\\\\components\\\\User.js\",\n    _s = $RefreshSig$();\n\nimport React, { useEffect, useState } from \"react\";\nimport Img from \"../image1.jpg\";\nimport { onSnapshot, doc } from \"firebase/firestore\";\nimport { db } from \"../firebase\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nconst User = _ref => {\n  _s();\n\n  let {\n    user1,\n    user\n  } = _ref;\n  const user2 = user === null || user === void 0 ? void 0 : user.uid;\n  const [data, setData] = useState(\"\");\n  useEffect(() => {\n    const id = user1 > user2 ? `${user1 + user2}` : `${user2 + user1}`;\n    let unsub = onSnapshot(doc(db, \"lastMsg\", id), doc => {\n      setData(doc.data());\n    });\n    return () => unsub();\n  }, []);\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: `user_wrapper}`,\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"user_info\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"user_detail\",\n          children: [/*#__PURE__*/_jsxDEV(\"img\", {\n            src: user.avatar || Img,\n            alt: \"avatar\",\n            className: \"avatar\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 25,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"h4\", {\n            children: user.name\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 26,\n            columnNumber: 13\n          }, this), (data === null || data === void 0 ? void 0 : data.from) !== user1 && (data === null || data === void 0 ? void 0 : data.unread) && /*#__PURE__*/_jsxDEV(\"small\", {\n            className: \"unread\",\n            children: \"New\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 28,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 24,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: `user_status ${user.isOnline ? \"online\" : \"offline\"}`\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 31,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 23,\n        columnNumber: 9\n      }, this), data && /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"truncate\",\n        children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n          children: data.from === user1 ? \"Me:\" : null\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 37,\n          columnNumber: 13\n        }, this), data.text]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 36,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 20,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      onClick: () => selectUser(user),\n      className: `sm_container`,\n      children: /*#__PURE__*/_jsxDEV(\"img\", {\n        src: user.avatar || Img,\n        alt: \"avatar\",\n        className: \"avatar sm_screen\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 46,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 42,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true);\n};\n\n_s(User, \"SdShWBeHkV26fLNog65mn1O2hHw=\");\n\n_c = User;\nexport default User;\n\nvar _c;\n\n$RefreshReg$(_c, \"User\");","map":{"version":3,"names":["React","useEffect","useState","Img","onSnapshot","doc","db","User","user1","user","user2","uid","data","setData","id","unsub","avatar","name","from","unread","isOnline","text","selectUser"],"sources":["D:/Tonz/Documents/Codingan/My Portofolio/Latian/Query Firebase/coba1/courses-firestore/src/components/User.js"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\nimport Img from \"../image1.jpg\";\nimport { onSnapshot, doc } from \"firebase/firestore\";\nimport { db } from \"../firebase\";\n\nconst User = ({ user1, user}) => {\n  const user2 = user?.uid;\n  const [data, setData] = useState(\"\");\n\n  useEffect(() => {\n    const id = user1 > user2 ? `${user1 + user2}` : `${user2 + user1}`;\n    let unsub = onSnapshot(doc(db, \"lastMsg\", id), (doc) => {\n      setData(doc.data());\n    });\n    return () => unsub();\n  }, []);\n\n  return (\n    <>\n      <div\n        className={`user_wrapper}`}\n      >\n        <div className=\"user_info\">\n          <div className=\"user_detail\">\n            <img src={user.avatar || Img} alt=\"avatar\" className=\"avatar\" />\n            <h4>{user.name}</h4>\n            {data?.from !== user1 && data?.unread && (\n              <small className=\"unread\">New</small>\n            )}\n          </div>\n          <div\n            className={`user_status ${user.isOnline ? \"online\" : \"offline\"}`}\n          ></div>\n        </div>\n        {data && (\n          <p className=\"truncate\">\n            <strong>{data.from === user1 ? \"Me:\" : null}</strong>\n            {data.text}\n          </p>\n        )}\n      </div>\n      <div\n        onClick={() => selectUser(user)}\n        className={`sm_container`}\n      >\n        <img\n          src={user.avatar || Img}\n          alt=\"avatar\"\n          className=\"avatar sm_screen\"\n        />\n      </div>\n    </>\n  );\n};\n\nexport default User;\n"],"mappings":";;;AAAA,OAAOA,KAAP,IAAgBC,SAAhB,EAA2BC,QAA3B,QAA2C,OAA3C;AACA,OAAOC,GAAP,MAAgB,eAAhB;AACA,SAASC,UAAT,EAAqBC,GAArB,QAAgC,oBAAhC;AACA,SAASC,EAAT,QAAmB,aAAnB;;;;AAEA,MAAMC,IAAI,GAAG,QAAoB;EAAA;;EAAA,IAAnB;IAAEC,KAAF;IAASC;EAAT,CAAmB;EAC/B,MAAMC,KAAK,GAAGD,IAAH,aAAGA,IAAH,uBAAGA,IAAI,CAAEE,GAApB;EACA,MAAM,CAACC,IAAD,EAAOC,OAAP,IAAkBX,QAAQ,CAAC,EAAD,CAAhC;EAEAD,SAAS,CAAC,MAAM;IACd,MAAMa,EAAE,GAAGN,KAAK,GAAGE,KAAR,GAAiB,GAAEF,KAAK,GAAGE,KAAM,EAAjC,GAAsC,GAAEA,KAAK,GAAGF,KAAM,EAAjE;IACA,IAAIO,KAAK,GAAGX,UAAU,CAACC,GAAG,CAACC,EAAD,EAAK,SAAL,EAAgBQ,EAAhB,CAAJ,EAA0BT,GAAD,IAAS;MACtDQ,OAAO,CAACR,GAAG,CAACO,IAAJ,EAAD,CAAP;IACD,CAFqB,CAAtB;IAGA,OAAO,MAAMG,KAAK,EAAlB;EACD,CANQ,EAMN,EANM,CAAT;EAQA,oBACE;IAAA,wBACE;MACE,SAAS,EAAG,eADd;MAAA,wBAGE;QAAK,SAAS,EAAC,WAAf;QAAA,wBACE;UAAK,SAAS,EAAC,aAAf;UAAA,wBACE;YAAK,GAAG,EAAEN,IAAI,CAACO,MAAL,IAAeb,GAAzB;YAA8B,GAAG,EAAC,QAAlC;YAA2C,SAAS,EAAC;UAArD;YAAA;YAAA;YAAA;UAAA,QADF,eAEE;YAAA,UAAKM,IAAI,CAACQ;UAAV;YAAA;YAAA;YAAA;UAAA,QAFF,EAGG,CAAAL,IAAI,SAAJ,IAAAA,IAAI,WAAJ,YAAAA,IAAI,CAAEM,IAAN,MAAeV,KAAf,KAAwBI,IAAxB,aAAwBA,IAAxB,uBAAwBA,IAAI,CAAEO,MAA9B,kBACC;YAAO,SAAS,EAAC,QAAjB;YAAA;UAAA;YAAA;YAAA;YAAA;UAAA,QAJJ;QAAA;UAAA;UAAA;UAAA;QAAA,QADF,eAQE;UACE,SAAS,EAAG,eAAcV,IAAI,CAACW,QAAL,GAAgB,QAAhB,GAA2B,SAAU;QADjE;UAAA;UAAA;UAAA;QAAA,QARF;MAAA;QAAA;QAAA;QAAA;MAAA,QAHF,EAeGR,IAAI,iBACH;QAAG,SAAS,EAAC,UAAb;QAAA,wBACE;UAAA,UAASA,IAAI,CAACM,IAAL,KAAcV,KAAd,GAAsB,KAAtB,GAA8B;QAAvC;UAAA;UAAA;UAAA;QAAA,QADF,EAEGI,IAAI,CAACS,IAFR;MAAA;QAAA;QAAA;QAAA;MAAA,QAhBJ;IAAA;MAAA;MAAA;MAAA;IAAA,QADF,eAuBE;MACE,OAAO,EAAE,MAAMC,UAAU,CAACb,IAAD,CAD3B;MAEE,SAAS,EAAG,cAFd;MAAA,uBAIE;QACE,GAAG,EAAEA,IAAI,CAACO,MAAL,IAAeb,GADtB;QAEE,GAAG,EAAC,QAFN;QAGE,SAAS,EAAC;MAHZ;QAAA;QAAA;QAAA;MAAA;IAJF;MAAA;MAAA;MAAA;IAAA,QAvBF;EAAA,gBADF;AAoCD,CAhDD;;GAAMI,I;;KAAAA,I;AAkDN,eAAeA,IAAf"},"metadata":{},"sourceType":"module"}